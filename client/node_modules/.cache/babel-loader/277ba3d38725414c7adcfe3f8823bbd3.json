{"ast":null,"code":"import _slicedToArray from\"/Users/annehomann/coder_academy/term4/moviemate/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// --------------------------------------------\n//         Making a Comment Component\n// --------------------------------------------\nimport React,{useState}from'react';import{Comment,Avatar,Button,Input}from'antd';import Axios from'axios';import{useSelector}from'react-redux';import LikeDislikes from'./LikeDislikes';var TextArea=Input.TextArea;// This function is the main engine for making a main comment\nfunction SingleComment(props){var user=useSelector(function(state){return state.user;});var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),CommentValue=_useState2[0],setCommentValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),OpenReply=_useState4[0],setOpenReply=_useState4[1];var handleChange=function handleChange(e){setCommentValue(e.currentTarget.value);};var openReply=function openReply(){setOpenReply(!OpenReply);};var onSubmit=function onSubmit(e){e.preventDefault();var variables={writer:user.userData._id,postId:props.postId,responseTo:props.comment._id,content:CommentValue};// Promise HTTP request\nAxios.post('/api/comment/saveComment',variables).then(function(response){if(response.data.success){setCommentValue(\"\");setOpenReply(!OpenReply);props.refreshFunction(response.data.result);}else{alert('Failed to save Comment');}});};var actions=[/*#__PURE__*/React.createElement(LikeDislikes,{comment:true,commentId:props.comment._id,userId:localStorage.getItem('userId')}),/*#__PURE__*/React.createElement(\"span\",{onClick:openReply,key:\"comment-basic-reply-to\"},\"Reply to \")];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Comment,{actions:actions,author:props.comment.writer.name,avatar:/*#__PURE__*/React.createElement(Avatar,{src:props.comment.writer.image,alt:\"image\"}),content:/*#__PURE__*/React.createElement(\"p\",null,props.comment.content)}),OpenReply&&/*#__PURE__*/React.createElement(\"form\",{style:{display:'flex'},onSubmit:onSubmit},/*#__PURE__*/React.createElement(TextArea,{style:{width:'100%',borderRadius:'5px'},onChange:handleChange,value:CommentValue,placeholder:\"write some comments\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{style:{width:'20%',height:'52px'},onClick:onSubmit},\"Submit\")));}export default SingleComment;","map":{"version":3,"sources":["/Users/annehomann/coder_academy/term4/moviemate/client/src/components/views/MovieDetail/Sections/SingleComment.js"],"names":["React","useState","Comment","Avatar","Button","Input","Axios","useSelector","LikeDislikes","TextArea","SingleComment","props","user","state","CommentValue","setCommentValue","OpenReply","setOpenReply","handleChange","e","currentTarget","value","openReply","onSubmit","preventDefault","variables","writer","userData","_id","postId","responseTo","comment","content","post","then","response","data","success","refreshFunction","result","alert","actions","localStorage","getItem","name","image","display","width","borderRadius","height"],"mappings":"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","sourcesContent":["// --------------------------------------------\n//         Making a Comment Component\n// --------------------------------------------\nimport React, { useState } from 'react'\nimport { Comment, Avatar, Button, Input } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport LikeDislikes from './LikeDislikes';\nconst { TextArea } = Input;\n\n// This function is the main engine for making a main comment\nfunction SingleComment(props) {\n    const user = useSelector(state => state.user);\n    const [CommentValue, setCommentValue] = useState(\"\")\n    const [OpenReply, setOpenReply] = useState(false)\n\n    const handleChange = (e) => {\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const openReply = () => {\n        setOpenReply(!OpenReply)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const variables = {\n            writer: user.userData._id,\n            postId: props.postId,\n            responseTo: props.comment._id,\n            content: CommentValue\n        }\n\n        // Promise HTTP request\n        Axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setCommentValue(\"\")\n                    setOpenReply(!OpenReply)\n                    props.refreshFunction(response.data.result)\n                } else {\n                    alert('Failed to save Comment')\n                }\n            })\n    }\n\n    const actions = [\n        <LikeDislikes comment commentId={props.comment._id} userId={localStorage.getItem('userId')} />,\n        <span onClick={openReply} key=\"comment-basic-reply-to\">Reply to </span>\n    ]\n\n    return (\n        <div>\n            <Comment\n                actions={actions}\n                author={props.comment.writer.name}\n                avatar={\n                    <Avatar\n                        src={props.comment.writer.image}\n                        alt=\"image\"\n                    />\n                }\n                content={\n                    <p>\n                        {props.comment.content}\n                    </p>\n                }\n            ></Comment>\n\n            {OpenReply &&\n                <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                    <TextArea\n                        style={{ width: '100%', borderRadius: '5px' }}\n                        onChange={handleChange}\n                        value={CommentValue}\n                        placeholder=\"write some comments\"\n                    />\n                    <br />\n                    <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}>Submit</Button>\n                </form>\n            }\n        </div>\n    )\n}\n\nexport default SingleComment\n"]},"metadata":{},"sourceType":"module"}