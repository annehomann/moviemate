{"ast":null,"code":"var _jsxFileName = \"/Users/annehomann/coder_academy/term4/moviemate/client/src/components/views/MovieDetail/Sections/LikeDislikes.js\";\n// ------------------------------------\n//         Like/Dislike Component\n// ------------------------------------\nimport React, { useEffect, useState } from 'react';\nimport { Tooltip, Icon } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux'; // This function is the main engine for the like/dislike functionality\n\nfunction LikeDislikes(props) {\n  const user = useSelector(state => state.user);\n  const [Likes, setLikes] = useState(0);\n  const [Dislikes, setDislikes] = useState(0);\n  const [LikeAction, setLikeAction] = useState(null);\n  const [DislikeAction, setDislikeAction] = useState(null);\n  let variable = {};\n\n  if (props.video) {\n    variable = {\n      videoId: props.videoId,\n      userId: props.userId\n    };\n  } else {\n    variable = {\n      commentId: props.commentId,\n      userId: props.userId\n    };\n  }\n\n  useEffect(() => {\n    // Promise HTTP request for Like function\n    Axios.post('/api/like/getLikes', variable).then(response => {\n      console.log('getLikes', response.data);\n\n      if (response.data.success) {\n        // How many likes does this comment have \n        setLikes(response.data.likes.length); // If Like button is already clicked \n\n        response.data.likes.map(like => {\n          if (like.userId === props.userId) {\n            setLikeAction('liked');\n          }\n        });\n      } else {\n        alert('Failed to get likes');\n      }\n    }); // Promise HTTP request for Dislike function\n\n    Axios.post('/api/like/getDislikes', variable).then(response => {\n      console.log('getDislike', response.data);\n\n      if (response.data.success) {\n        // How many likes does this comment have \n        setDislikes(response.data.dislikes.length); // If Dislike button is already clicked\n\n        response.data.dislikes.map(dislike => {\n          if (dislike.userId === props.userId) {\n            setDislikeAction('disliked');\n          }\n        });\n      } else {\n        alert('Failed to get dislikes');\n      }\n    });\n  }, []);\n\n  const onLike = () => {\n    // Prompts user to be logged in to like movie\n    if (user.userData && !user.userData.isAuth) {\n      return alert('Please Log in first');\n    }\n\n    if (LikeAction === null) {\n      Axios.post('/api/like/upLike', variable).then(response => {\n        if (response.data.success) {\n          setLikes(Likes + 1);\n          setLikeAction('liked'); // If dislike button is already clicked\n\n          if (DislikeAction !== null) {\n            setDislikeAction(null);\n            setDislikes(Dislikes - 1);\n          }\n        } else {\n          alert('Failed to increase the like');\n        }\n      });\n    } else {\n      Axios.post('/api/like/unLike', variable).then(response => {\n        if (response.data.success) {\n          setLikes(Likes - 1);\n          setLikeAction(null);\n        } else {\n          alert('Failed to decrease the like');\n        }\n      });\n    }\n  };\n\n  const onDisLike = () => {\n    // Prompts user to be logged in to dislike movie\n    if (user.userData && !user.userData.isAuth) {\n      return alert('Please Log in first');\n    }\n\n    if (DislikeAction !== null) {\n      // Promise HTTP request\n      Axios.post('/api/like/unDisLike', variable).then(response => {\n        if (response.data.success) {\n          setDislikes(Dislikes - 1);\n          setDislikeAction(null);\n        } else {\n          alert('Failed to decrease dislike');\n        }\n      });\n    } else {\n      // Promise HTTP request\n      Axios.post('/api/like/upDisLike', variable).then(response => {\n        if (response.data.success) {\n          setDislikes(Dislikes + 1);\n          setDislikeAction('disliked'); //If dislike button is already clicked\n\n          if (LikeAction !== null) {\n            setLikeAction(null);\n            setLikes(Likes - 1);\n          }\n        } else {\n          alert('Failed to increase dislike');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    key: \"comment-basic-like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"like\",\n    theme: LikeAction === 'liked' ? 'filled' : 'outlined',\n    onClick: onLike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: '8px',\n      cursor: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, Likes)), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n    key: \"comment-basic-dislike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Dislike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"dislike\",\n    theme: DislikeAction === 'disliked' ? 'filled' : 'outlined',\n    onClick: onDisLike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: '8px',\n      cursor: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, Dislikes)));\n}\n\nexport default LikeDislikes;","map":{"version":3,"sources":["/Users/annehomann/coder_academy/term4/moviemate/client/src/components/views/MovieDetail/Sections/LikeDislikes.js"],"names":["React","useEffect","useState","Tooltip","Icon","Axios","useSelector","LikeDislikes","props","user","state","Likes","setLikes","Dislikes","setDislikes","LikeAction","setLikeAction","DislikeAction","setDislikeAction","variable","video","videoId","userId","commentId","post","then","response","console","log","data","success","likes","length","map","like","alert","dislikes","dislike","onLike","userData","isAuth","onDisLike","paddingLeft","cursor"],"mappings":"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","sourcesContent":["// ------------------------------------\n//         Like/Dislike Component\n// ------------------------------------\nimport React, { useEffect, useState } from 'react'\nimport { Tooltip, Icon } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\n\n// This function is the main engine for the like/dislike functionality\nfunction LikeDislikes(props) {\n    const user = useSelector(state => state.user)\n\n    const [Likes, setLikes] = useState(0)\n    const [Dislikes, setDislikes] = useState(0)\n    const [LikeAction, setLikeAction] = useState(null)\n    const [DislikeAction, setDislikeAction] = useState(null)\n    let variable = {};\n\n    if (props.video) {\n        variable = { videoId: props.videoId, userId: props.userId }\n    } else {\n        variable = { commentId: props.commentId, userId: props.userId }\n    }\n\n    useEffect(() => {\n        // Promise HTTP request for Like function\n        Axios.post('/api/like/getLikes', variable)\n            .then(response => {\n                console.log('getLikes',response.data)\n\n                if (response.data.success) {\n                    // How many likes does this comment have \n                    setLikes(response.data.likes.length)\n\n                    // If Like button is already clicked \n                    response.data.likes.map(like => {\n                        if (like.userId === props.userId) {\n                            setLikeAction('liked')\n                        }\n                    })\n                } else {\n                    alert('Failed to get likes')\n                }\n            })\n\n        // Promise HTTP request for Dislike function\n        Axios.post('/api/like/getDislikes', variable)\n            .then(response => {\n                console.log('getDislike',response.data)\n                if (response.data.success) {\n                    // How many likes does this comment have \n                    setDislikes(response.data.dislikes.length)\n\n                    // If Dislike button is already clicked\n                    response.data.dislikes.map(dislike => {\n                        if (dislike.userId === props.userId) {\n                            setDislikeAction('disliked')\n                        }\n                    })\n                } else {\n                    alert('Failed to get dislikes')\n                }\n            })\n    }, [])\n\n\n    const onLike = () => {\n       \n        // Prompts user to be logged in to like movie\n        if (user.userData && !user.userData.isAuth) {\n            return alert('Please Log in first');\n        }\n\n        if (LikeAction === null) {\n\n            Axios.post('/api/like/upLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setLikes(Likes + 1)\n                        setLikeAction('liked')\n\n                        // If dislike button is already clicked\n                        if (DislikeAction !== null) {\n                            setDislikeAction(null)\n                            setDislikes(Dislikes - 1)\n                        }\n\n\n                    } else {\n                        alert('Failed to increase the like')\n                    }\n                })\n\n\n        } else {\n\n            Axios.post('/api/like/unLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setLikes(Likes - 1)\n                        setLikeAction(null)\n\n                    } else {\n                        alert('Failed to decrease the like')\n                    }\n                })\n        }\n    }\n\n\n    const onDisLike = () => {\n\n        // Prompts user to be logged in to dislike movie\n        if (user.userData && !user.userData.isAuth) {\n            return alert('Please Log in first');\n        }\n\n        if (DislikeAction !== null) {\n\n            // Promise HTTP request\n            Axios.post('/api/like/unDisLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setDislikes(Dislikes - 1)\n                        setDislikeAction(null)\n\n                    } else {\n                        alert('Failed to decrease dislike')\n                    }\n                })\n\n        } else {\n\n            // Promise HTTP request\n            Axios.post('/api/like/upDisLike', variable)\n                .then(response => {\n                    if (response.data.success) {\n\n                        setDislikes(Dislikes + 1)\n                        setDislikeAction('disliked')\n\n                        //If dislike button is already clicked\n                        if(LikeAction !== null ) {\n                            setLikeAction(null)\n                            setLikes(Likes - 1)\n                        }\n\n                    } else {\n                        alert('Failed to increase dislike')\n                    }\n                })\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <span key=\"comment-basic-like\">\n                <Tooltip title=\"Like\">\n                    <Icon type=\"like\"\n                        theme={LikeAction === 'liked' ? 'filled' : 'outlined'}\n                        onClick={onLike} />\n                </Tooltip>\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Likes}</span>\n            </span>&nbsp;&nbsp;&nbsp;&nbsp;\n            <span key=\"comment-basic-dislike\">\n                <Tooltip title=\"Dislike\">\n                    <Icon\n                        type=\"dislike\"\n                        theme={DislikeAction === 'disliked' ? 'filled' : 'outlined'}\n                        onClick={onDisLike}\n                    />\n                </Tooltip>\n                <span style={{ paddingLeft: '8px', cursor: 'auto' }}>{Dislikes}</span>\n            </span>\n        </React.Fragment>\n    )\n}\n\nexport default LikeDislikes\n"]},"metadata":{},"sourceType":"module"}